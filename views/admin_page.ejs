<!DOCTYPE html>
<html>
    <head>
      <title>Admin Page</title>
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
      <style>
        /* Custom styling for the logout button position */
        .logout-btn {
            position: absolute;
            top: 10px;
            right: 10px;
        }
    </style>
    </head>
    <body>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
      </div>
        <a href="/login" class="btn btn-danger logout-btn">Log Out</a>
        <h3> &numsp; Admin Page</h3>
        <div class="d-flex mb-2 ml-2 mr-2">
            <a href="/add_tenant" class="btn btn-success">Add New Tenant</a>
        </div>
        <div class="d-flex mb-2 ml-2 mr-2">
            <a href="/move_tenant" class="btn btn-success">Move Tenant</a>
        </div>
        <div class="d-flex mb-2 ml-2 mr-2">
            <a href="/delete_tenant" class="btn btn-success">Delete Tenant</a>
        </div>

        <div>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th scope="col">Tenant ID</th>
                    <th scope="col">First Name</th>
                    <th scope="col">Last Name</th>
                    <th scope="col">Phone Number</th>
                    <th scope="col">Email</th>
                    <th scope="col">Check-in</th>
                    <th scope="col">Check-out</th>
                    <th scope="col">Apartment Number</th>
                </tr>
            </thead>
            <tbody>
                <% if (users.length === 0) { %>
                    <tr>
                        <td colspan="7">No users found.</td>
                    </tr>
                <% } else { %>
                    <% users.forEach(user => { %>
                        <tr class="request-row" data-id="<%= user.user_id%>">
                            <td><%= user.user_id %></td>
                            <td><%= user.first_name %></td>
                            <td><%= user.last_name %></td>
                            <td><%= user.phone_number %></td>
                            <td><%= user.email %></td>
                            <td><%= user.check_in_date %></td>
                            <td><%= user.check_out_date %></td>
                            <td><%= user.apartment_number %></td>
                        </tr>
                    <% }) %>
                <% } %>
            </tbody>
        </table>
        </div>

    </body>
</html>